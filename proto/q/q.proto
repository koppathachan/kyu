syntax = "proto3";

package q;

option go_package = "github.com/sasidakh/q";

import "q/msg/msg.proto";

message CreateResponse {
  msg.Ack ack = 1 ;
}

message WriteResult {
  msg.Ack ack = 1;
  uint32 count = 2;
}

service Queue {
  rpc Create(msg.Queue) returns (msg.Ack);
  rpc Enqueue(stream msg.Message) returns (WriteResult);
  rpc Dequeue(msg.Queue) returns (stream msg.Message);
}
